{{ define "main" }}
<section class="py-16">
  <div class="max-w-4xl mx-auto px-4 text-center">
    
    <!-- 404 Hero -->
    <div class="mb-12">
      <h1 class="text-6xl font-bold text-gray-900 dark:text-white mb-4">404</h1>
      <h2 class="text-2xl font-semibold text-gray-700 dark:text-gray-300 mb-4">
        {{ i18n "page_not_found" | default "Halaman Tidak Ditemukan" }}
      </h2>
      <p class="text-gray-600 dark:text-gray-400 mb-8">
        {{ i18n "404_message" | default "Maaf, halaman yang Anda cari tidak dapat ditemukan. Mungkin halaman tersebut telah dipindahkan atau dihapus." }}
      </p>
    </div>

    <!-- Search Box -->
    <div class="mb-12">
      <div class="max-w-md mx-auto">
        <div class="relative">
          <input 
            type="text" 
            id="search404"
            placeholder="{{ i18n "search_placeholder" | default "Cari artikel..." }}"
            class="w-full px-4 py-3 pr-12 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0f7ea9] dark:bg-gray-800 dark:text-white"
          />
          <button class="absolute right-3 top-3 text-gray-400 hover:text-[#0f7ea9]">
            <i data-feather="search" class="w-5 h-5"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- Ad: Rectangle Banner -->
    <div class="mb-12">
      {{ partial "adsense-unit.html" . }}
    </div>

    <!-- Suggested Links -->
    <div class="grid md:grid-cols-2 gap-8 mb-12">
      
      <!-- Popular Articles -->
      <div>
        <h3 class="text-xl font-bold mb-4 text-gray-900 dark:text-white">
          üìö {{ i18n "popular_articles" | default "Artikel Populer" }}
        </h3>
        <div class="space-y-3 text-left">
          {{ range first 5 (where .Site.RegularPages "Type" "blog") }}
          <a href="{{ .RelPermalink }}" class="block p-3 bg-white dark:bg-gray-800 rounded-lg shadow hover:shadow-md transition">
            <h4 class="font-medium text-[#0f7ea9] text-sm">{{ .Title }}</h4>
            <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">{{ .Date.Format "02 Jan 2006" }}</p>
          </a>
          {{ end }}
        </div>
      </div>

      <!-- Categories -->
      <div>
        <h3 class="text-xl font-bold mb-4 text-gray-900 dark:text-white">
          üè∑Ô∏è {{ i18n "categories" | default "Kategori" }}
        </h3>
        <div class="flex flex-wrap gap-2 justify-center">
          {{ $navTags := .Site.Params.navTags }}
          {{ if $navTags }}
            {{ range $tag := $navTags }}
              {{ $key := lower $tag }}
              {{ with (index $.Site.Taxonomies.tags $key) }}
              <a href="{{ (printf "/tags/%s" ($key | urlize)) | relLangURL }}"
                 class="bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-[#0f7ea9] hover:text-white px-3 py-1 rounded-full text-sm transition">
                #{{ $tag }}
              </a>
              {{ end }}
            {{ end }}
          {{ else }}
            {{ range $name, $taxonomy := .Site.Taxonomies.tags }}
              {{ if ge (len $taxonomy) 2 }}
              <a href="{{ (printf "/tags/%s" ($name | urlize)) | relLangURL }}"
                 class="bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-[#0f7ea9] hover:text-white px-3 py-1 rounded-full text-sm transition">
                #{{ $name }}
              </a>
              {{ end }}
            {{ end }}
          {{ end }}
        </div>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="flex flex-col sm:flex-row gap-4 justify-center">
      <a href="{{ "/" | relLangURL }}" 
         class="bg-[#0f7ea9] hover:bg-[#0a5a7a] text-white px-6 py-3 rounded-lg transition font-medium">
        üè† {{ i18n "back_to_home" | default "Kembali ke Beranda" }}
      </a>
      <a href="/contact" 
         class="bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 px-6 py-3 rounded-lg transition font-medium">
        üìß {{ i18n "contact_us" | default "Hubungi Kami" }}
      </a>
    </div>

  </div>
</section>

<script>
// Simple search functionality for 404 page
document.addEventListener('DOMContentLoaded', function() {
  const searchInput = document.getElementById('search404');
  if (searchInput) {
    searchInput.addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        const query = this.value.trim();
        if (query) {
          // Redirect to home with search modal trigger
          window.location.href = '{{ "/" | relLangURL }}?search=' + encodeURIComponent(query);
        }
      }
    });
  }
});
</script>

{{ end }}