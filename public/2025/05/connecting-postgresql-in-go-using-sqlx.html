<!DOCTYPE html>
<html lang="en" data-theme="light">
  <head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  
  
  
  

  
  <title>Connecting to PostgreSQL in Go using sqlx | Buana Coding</title>

  
  <meta name="description" content="Learn how to connect to PostgreSQL in Go using the sqlx library. This guide covers installation, basic queries, and best practices for working with PostgreSQL in Go applications." />

  
  
    <meta name="keywords" content="Go,, PostgreSQL,, sqlx,, database, connection,, Go, database, library" />
  

  
  <link rel="canonical" href="https://www.buanacoding.com/2025/05/connecting-postgresql-in-go-using-sqlx.html" />

  
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Connecting to PostgreSQL in Go using sqlx | Buana Coding" />
  <meta property="og:description" content="Learn how to connect to PostgreSQL in Go using the sqlx library. This guide covers installation, basic queries, and best practices for working with PostgreSQL in Go applications." />
  <meta property="og:url" content="https://www.buanacoding.com/2025/05/connecting-postgresql-in-go-using-sqlx.html" />
  <meta property="og:image" content="https://www.buanacoding.com/images/og-image.jpg" />

  
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Connecting to PostgreSQL in Go using sqlx | Buana Coding" />
  <meta name="twitter:description" content="Learn how to connect to PostgreSQL in Go using the sqlx library. This guide covers installation, basic queries, and best practices for working with PostgreSQL in Go applications." />
  <meta name="twitter:image" content="https://www.buanacoding.com/images/og-image.jpg" />

  
  <link rel="icon" href="/favicon.ico" type="image/x-icon" />

  
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/dracula.min.css">
  <link rel="stylesheet" href="/style.css" />
  <link rel="stylesheet" href="/css/syntax.css" />

  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0EN9J73FXF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-0EN9J73FXF');
</script>


<script async crossorigin="anonymous" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3149036684216973"></script>
</head>
  <body
    class="bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-white min-h-screen flex flex-col"
  >
    
    <header class="bg-[#0f7ea9] dark:bg-[#094d66] text-white shadow">
  <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
    <h1 class="text-2xl font-extrabold tracking-wide">
      <a href="/" class="hover:opacity-90">BUANACODING</a>
    </h1>

    
    <nav
      class="hidden md:flex items-center space-x-6 font-semibold uppercase tracking-wide"
    >
      
      <a
        href="/tags/go"
        class="no-underline hover:text-cyan-500 dark:hover:text-[#0f7ea9] transition font-medium text-sm capitalize"
      >
        go
      </a>
      
      <a
        href="/tags/laravel"
        class="no-underline hover:text-cyan-500 dark:hover:text-[#0f7ea9] transition font-medium text-sm capitalize"
      >
        laravel
      </a>
      
      <a
        href="/tags/linux"
        class="no-underline hover:text-cyan-500 dark:hover:text-[#0f7ea9] transition font-medium text-sm capitalize"
      >
        linux
      </a>
      

      
      <button
        id="theme-toggle"
        class="ml-4 text-white hover:text-yellow-400 transition duration-300"
      >
        
        <svg
          id="icon-sun"
          xmlns="http://www.w3.org/2000/svg"
          class="w-6 h-6 hidden"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M12 3v1m0 16v1m8.485-8.485l-.707.707M4.222 4.222l.707.707M21 12h-1M4 12H3m16.263-7.263l-.707.707M4.222 19.778l.707-.707M12 8a4 4 0 100 8 4 4 0 000-8z"
          />
        </svg>
        
        <svg
          id="icon-moon"
          xmlns="http://www.w3.org/2000/svg"
          class="w-6 h-6"
          fill="currentColor"
          viewBox="0 0 24 24"
        >
          <path d="M21 12.79A9 9 0 0112.21 3a7 7 0 100 14 9 9 0 008.79-4.21z" />
        </svg>
      </button>
    </nav>

    <button id="menu-toggle" class="md:hidden text-2xl focus:outline-none">
      ☰
    </button>
  </div>

  <div id="mobile-menu" class="hidden md:hidden px-4 pb-4 space-y-2">
    
    <a
      href="/tags/go"
      class="block no-underline hover:text-cyan-500 dark:hover:text-[#0f7ea9] transition font-medium text-sm capitalize"
    >
      go
    </a>
    
    <a
      href="/tags/laravel"
      class="block no-underline hover:text-cyan-500 dark:hover:text-[#0f7ea9] transition font-medium text-sm capitalize"
    >
      laravel
    </a>
    
    <a
      href="/tags/linux"
      class="block no-underline hover:text-cyan-500 dark:hover:text-[#0f7ea9] transition font-medium text-sm capitalize"
    >
      linux
    </a>
    
    <div class="flex items-center gap-4 mt-2">
      
      <button
        id="theme-toggle-mobile"
        class="text-white hover:text-yellow-400 transition duration-300"
      >
        
        <svg
          id="icon-sun-mobile"
          xmlns="http://www.w3.org/2000/svg"
          class="w-6 h-6 hidden"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M12 3v1m0 16v1m8.485-8.485l-.707.707M4.222 4.222l.707.707M21 12h-1M4 12H3m16.263-7.263l-.707.707M4.222 19.778l.707-.707M12 8a4 4 0 100 8 4 4 0 000-8z"
          />
        </svg>
        
        <svg
          id="icon-moon-mobile"
          xmlns="http://www.w3.org/2000/svg"
          class="w-6 h-6"
          fill="currentColor"
          viewBox="0 0 24 24"
        >
          <path d="M21 12.79A9 9 0 0112.21 3a7 7 0 100 14 9 9 0 008.79-4.21z" />
        </svg>
      </button>
    </div>
  </div>
</header>


    
    <main class="flex-1 w-full">
      <div class="max-w-7xl mx-auto py-8 px-4">
        
<div class="max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-8 py-8">
  
  <article class="prose prose-blue dark:prose-invert lg:col-span-2">
    <nav class="text-sm text-gray-500 dark:text-gray-400 mb-4">
      <a href="/" class="hover:text-[#0f7ea9] font-medium">Home</a>
      <span class="mx-2">/</span>
      
        
        
          <a href="/tags/go" class="hover:text-[#0f7ea9] font-medium">#Go</a>
        
      
    </nav>


    <h1>Connecting to PostgreSQL in Go using sqlx</h1>

    
      <p>In modern web applications, storing and retrieving data from a database is a fundamental requirement. Go provides a low-level database/sql package, but using it directly can be verbose and repetitive. Thankfully, sqlx extends database/sql by adding useful features like struct scanning and named queries, making database operations in Go much easier.</p>
<p>In this article, we’ll walk through how to connect a Go application to a PostgreSQL database using sqlx, and how to perform basic CRUD operations.</p>
<h2 id="what-is-sqlx">What is sqlx?</h2>
<p>sqlx is a Go library that enhances the standard database/sql by making it easier to work with structs and common query patterns. It&rsquo;s widely used for developers who want more control and performance without jumping into full ORMs.</p>
<p>Install sqlx with:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">go get github.com/jmoiron/sqlx
</span></span></code></pre></div><p>You also need the PostgreSQL driver:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">go get github.com/lib/pq
</span></span></code></pre></div><h2 id="connect-to-postgresql">Connect to PostgreSQL</h2>
<p>To connect to a PostgreSQL database, you need to provide a connection string that includes the database name, user, password, host, and port. Here’s how to set up a basic connection using sqlx:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;log&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;github.com/jmoiron/sqlx&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">_</span> <span class="s">&#34;github.com/lib/pq&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">db</span> <span class="o">*</span><span class="nx">sqlx</span><span class="p">.</span><span class="nx">DB</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">dsn</span> <span class="o">:=</span> <span class="s">&#34;user=postgres password=yourpassword dbname=mydb sslmode=disable&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nx">err</span> <span class="kt">error</span>
</span></span><span class="line"><span class="cl">    <span class="nx">db</span><span class="p">,</span> <span class="nx">err</span> <span class="p">=</span> <span class="nx">sqlx</span><span class="p">.</span><span class="nf">Connect</span><span class="p">(</span><span class="s">&#34;postgres&#34;</span><span class="p">,</span> <span class="nx">dsn</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">log</span><span class="p">.</span><span class="nf">Fatalln</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Connected to PostgreSQL!&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Make sure to replace <code>yourpassword</code> and <code>mydb</code> with your actual PostgreSQL credentials and database name.</p>
<h2 id="create-a-struct-and-table">Create a Struct and Table</h2>
<p>Create a table in PostgreSQL:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">SERIAL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">name</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">age</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">);</span><span class="w">
</span></span></span></code></pre></div><p>Next, define a Go struct that matches the table schema:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">User</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">ID</span>   <span class="kt">int</span>    <span class="s">`db:&#34;id&#34;`</span>
</span></span><span class="line"><span class="cl">    <span class="nx">Name</span> <span class="kt">string</span> <span class="s">`db:&#34;name&#34;`</span>
</span></span><span class="line"><span class="cl">    <span class="nx">Age</span>  <span class="kt">int</span>    <span class="s">`db:&#34;age&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="insert-data">Insert Data</h2>
<p>To insert data into the <code>users</code> table, you can use the <code>NamedExec</code> method provided by sqlx, which allows you to use named parameters in your SQL queries:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">createUser</span><span class="p">(</span><span class="nx">name</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">age</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">error</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">user</span> <span class="o">:=</span> <span class="nx">User</span><span class="p">{</span><span class="nx">Name</span><span class="p">:</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">Age</span><span class="p">:</span> <span class="nx">age</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">query</span> <span class="o">:=</span> <span class="s">`INSERT INTO users (name, age) VALUES (:name, :age)`</span>
</span></span><span class="line"><span class="cl">    <span class="nx">_</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">db</span><span class="p">.</span><span class="nf">NamedExec</span><span class="p">(</span><span class="nx">query</span><span class="p">,</span> <span class="nx">user</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">err</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="query-data">Query Data</h2>
<p>To retrieve data from the <code>users</code> table, you can use the <code>Select</code> method, which scans the results into a slice of structs:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">getUsers</span><span class="p">()</span> <span class="p">([]</span><span class="nx">User</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nx">users</span> <span class="p">[]</span><span class="nx">User</span>
</span></span><span class="line"><span class="cl">    <span class="nx">query</span> <span class="o">:=</span> <span class="s">`SELECT * FROM users`</span>
</span></span><span class="line"><span class="cl">    <span class="nx">err</span> <span class="o">:=</span> <span class="nx">db</span><span class="p">.</span><span class="nf">Select</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">users</span><span class="p">,</span> <span class="nx">query</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">users</span><span class="p">,</span> <span class="nx">err</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="update-data">Update Data</h2>
<p>To update a user&rsquo;s information, you can use the <code>NamedExec</code> method again:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">updateUser</span><span class="p">(</span><span class="nx">id</span> <span class="kt">int</span><span class="p">,</span> <span class="nx">name</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">age</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">error</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">user</span> <span class="o">:=</span> <span class="nx">User</span><span class="p">{</span><span class="nx">ID</span><span class="p">:</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">Name</span><span class="p">:</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">Age</span><span class="p">:</span> <span class="nx">age</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">query</span> <span class="o">:=</span> <span class="s">`UPDATE users SET name = :name, age = :age WHERE id = :id`</span>
</span></span><span class="line"><span class="cl">    <span class="nx">_</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">db</span><span class="p">.</span><span class="nf">NamedExec</span><span class="p">(</span><span class="nx">query</span><span class="p">,</span> <span class="nx">user</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">err</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="delete-data">Delete Data</h2>
<p>To delete a user from the <code>users</code> table, you can use the <code>Exec</code> method:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">deleteUser</span><span class="p">(</span><span class="nx">id</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">error</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">query</span> <span class="o">:=</span> <span class="s">`DELETE FROM users WHERE id = $1`</span>
</span></span><span class="line"><span class="cl">    <span class="nx">_</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">db</span><span class="p">.</span><span class="nf">Exec</span><span class="p">(</span><span class="nx">query</span><span class="p">,</span> <span class="nx">id</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">err</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="putting-it-all-together">Putting It All Together</h2>
<p>Here’s a complete example that includes connecting to the database, creating a user, retrieving users, updating a user, and deleting a user:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;log&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="s">&#34;github.com/jmoiron/sqlx&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">_</span> <span class="s">&#34;github.com/lib/pq&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">User</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">ID</span>   <span class="kt">int</span>    <span class="s">`db:&#34;id&#34;`</span>
</span></span><span class="line"><span class="cl">    <span class="nx">Name</span> <span class="kt">string</span> <span class="s">`db:&#34;name&#34;`</span>
</span></span><span class="line"><span class="cl">    <span class="nx">Age</span>  <span class="kt">int</span>    <span class="s">`db:&#34;age&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">db</span> <span class="o">*</span><span class="nx">sqlx</span><span class="p">.</span><span class="nx">DB</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">dsn</span> <span class="o">:=</span> <span class="s">&#34;user=postgres password=yourpassword dbname=mydb sslmode=disable&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nx">err</span> <span class="kt">error</span>
</span></span><span class="line"><span class="cl">    <span class="nx">db</span><span class="p">,</span> <span class="nx">err</span> <span class="p">=</span> <span class="nx">sqlx</span><span class="p">.</span><span class="nf">Connect</span><span class="p">(</span><span class="s">&#34;postgres&#34;</span><span class="p">,</span> <span class="nx">dsn</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">log</span><span class="p">.</span><span class="nf">Fatalln</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Connected to PostgreSQL!&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Create a user</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nf">createUser</span><span class="p">(</span><span class="s">&#34;Alice&#34;</span><span class="p">,</span> <span class="mi">30</span><span class="p">);</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">log</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Error creating user:&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Get users</span>
</span></span><span class="line"><span class="cl">    <span class="nx">users</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nf">getUsers</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">log</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Error getting users:&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Users:&#34;</span><span class="p">,</span> <span class="nx">users</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Update a user</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nf">updateUser</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#34;Alice Smith&#34;</span><span class="p">,</span> <span class="mi">31</span><span class="p">);</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">log</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Error updating user:&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Delete a user</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nf">deleteUser</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">log</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Error deleting user:&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="best-practices">Best Practices</h2>
<ul>
<li><strong>Use Named Parameters</strong>: Named parameters make your queries more readable and maintainable.</li>
<li><strong>Error Handling</strong>: Always check for errors after executing queries to handle any issues gracefully.</li>
<li><strong>Connection Pooling</strong>: sqlx uses the database/sql package under the hood, which supports connection pooling. Make sure to configure the pool size according to your application&rsquo;s needs.</li>
<li><strong>Migrations</strong>: Use a migration tool like <code>golang-migrate</code> to manage your database schema changes.</li>
<li><strong>Environment Variables</strong>: Store sensitive information like database credentials in environment variables or a configuration file, not hard-coded in your source code.</li>
<li><strong>Close the Database Connection Gracefully</strong>: Ensure you close the database connection when your application exits to avoid resource leaks.</li>
</ul>
<h2 id="conclusion">Conclusion</h2>
<p>sqlx is a powerful tool for interacting with PostgreSQL in Go. It keeps your code clean while avoiding the overhead of a full ORM. You’ve now seen how to connect to PostgreSQL, run basic CRUD operations, and structure your DB code using sqlx.</p>
<p>In the next article, we’ll go further by integrating this into a REST API and later explore GORM for higher-level abstraction.</p>
<p>Happy coding!</p>


    
    <div class="bg-gray-100 dark:bg-gray-800 p-4 my-8 rounded">
      <h2 class="text-lg font-semibold mb-2">📌 Baca Juga</h2>
      <ul class="list-disc list-inside">
        
        <li>
          <a
            href="/2025/05/connecting-postgresql-in-go-using-sqlx.html"
            class="text-blue-600 dark:text-blue-400 hover:underline"
            >Connecting to PostgreSQL in Go using sqlx</a
          >
        </li>
        
        <li>
          <a
            href="/2025/05/structuring-go-projects-clean-architecture.html"
            class="text-blue-600 dark:text-blue-400 hover:underline"
            >Structuring Go Projects: Clean Project Structure and Best Practices</a
          >
        </li>
        
        <li>
          <a
            href="/2025/05/how-to-build-rest-api-in-go-using-net-http.html"
            class="text-blue-600 dark:text-blue-400 hover:underline"
            >How to Build a REST API in Go using net/http</a
          >
        </li>
        
      </ul>
    </div>

    
    
  </article>

  
  <aside class="space-y-10">
    
    <div>
      <h3 class="text-xl font-bold mb-4 text-gray-900 dark:text-white">
        Popular Post
      </h3>
      <ul
        class="space-y-3 list-disc list-inside text-sm text-gray-800 dark:text-gray-200"
      >
        
        <li>
          <a href="/2025/05/connecting-postgresql-in-go-using-sqlx.html" class="hover:text-[#0f7ea9] transition"
            >Connecting to PostgreSQL in Go using sqlx</a
          >
        </li>
        
        <li>
          <a href="/2025/05/structuring-go-projects-clean-architecture.html" class="hover:text-[#0f7ea9] transition"
            >Structuring Go Projects: Clean Project Structure and Best Practices</a
          >
        </li>
        
        <li>
          <a href="/2025/05/how-to-build-rest-api-in-go-using-net-http.html" class="hover:text-[#0f7ea9] transition"
            >How to Build a REST API in Go using net/http</a
          >
        </li>
        
        <li>
          <a href="/2025/04/working-with-json-in-go-encode-decode.html" class="hover:text-[#0f7ea9] transition"
            >Working with JSON in Go: Encode, Decode, and Tag Structs</a
          >
        </li>
        
        <li>
          <a href="/2025/04/file-handling-in-go-read-write-and.html" class="hover:text-[#0f7ea9] transition"
            >File Handling in Go: Read, Write, and Manage Files</a
          >
        </li>
        
      </ul>
    </div>

    
    
  </aside>
</div>

      </div>
    </main>

    
<div class="bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-white py-4 transition-colors duration-300">
  <div class="text-center space-x-4 text-sm font-medium">
    <a href="/about" class="hover:text-cyan-500 dark:hover:text-cyan-400">About</a>
    <span>-</span>
    <a href="/contact" class="hover:text-cyan-500 dark:hover:text-cyan-400">Contact</a>
    <span>-</span>
    <a href="/privacy-policy" class="hover:text-cyan-500 dark:hover:text-cyan-400">Privacy Policy</a>
    <span>-</span>
    <a href="/disclaimer" class="hover:text-cyan-500 dark:hover:text-cyan-400">Disclaimer</a>
  </div>
</div>


<footer class="text-center text-sm text-gray-500 dark:text-gray-400 py-4 border-t border-gray-200 dark:border-gray-700">
  &copy; 2025 Buanacoding. All rights reserved.
</footer>


    
<button
  id="scrollToTop"
  class="fixed bottom-6 right-6 bg-[#0f7ea9] hover:bg-cyan-600 text-white p-3 rounded-full shadow transition duration-300"
  aria-label="Scroll to top"
>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    fill="none"
    class="w-4 h-4"
    viewBox="0 0 24 24"
    stroke="currentColor"
  >
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      stroke-width="2"
      d="M5 15l7-7 7 7"
    />
  </svg>
</button>


    

<script>
  const btn = document.getElementById("scrollToTop");
  const html = document.documentElement;
  const toggleBtn = document.getElementById("theme-toggle");
  const toggleBtnMobile = document.getElementById("theme-toggle-mobile");
  const iconSun = document.getElementById("icon-sun");
  const iconMoon = document.getElementById("icon-moon");
  const iconSunMobile = document.getElementById("icon-sun-mobile");
  const iconMoonMobile = document.getElementById("icon-moon-mobile");

  
  btn.style.display = "none";

  
  window.addEventListener("scroll", () => {
    if (window.scrollY > 300) {
      btn.style.display = "flex"; 
    } else {
      btn.style.display = "none";
    }
  });

  
  btn.addEventListener("click", () => {
    window.scrollTo({ top: 0, behavior: "smooth" });
  });

  function updateIcons(isDark) {
    iconSun.classList.toggle("hidden", !isDark);
    iconMoon.classList.toggle("hidden", isDark);
    iconSunMobile.classList.toggle("hidden", !isDark);
    iconMoonMobile.classList.toggle("hidden", isDark);
  }

  function setDarkMode(isDark) {
    html.setAttribute("data-theme", isDark ? "dark" : "light");
    localStorage.setItem("theme", isDark ? "dark" : "light");
    updateIcons(isDark);
  }

  const userPref = localStorage.getItem("theme");
  const systemPref = window.matchMedia("(prefers-color-scheme: dark)").matches;
  const isDark = userPref === "dark" || (!userPref && systemPref);
  setDarkMode(isDark);

  toggleBtn?.addEventListener("click", () => {
    const currentlyDark = html.getAttribute("data-theme") === "dark";
    setDarkMode(!currentlyDark);
  });
  toggleBtnMobile?.addEventListener("click", () => {
    const currentlyDark = html.getAttribute("data-theme") === "dark";
    setDarkMode(!currentlyDark);
  });

  document.getElementById("menu-toggle")?.addEventListener("click", () => {
    document.getElementById("mobile-menu")?.classList.toggle("hidden");
  });

  
  document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('pre').forEach((pre) => {
      const button = document.createElement('button');
      button.innerHTML = `
        <span>Copy</span>
      `;
      button.className = `
      copy-btn absolute top-2 right-2
      text-xs px-2 py-1 rounded flex items-center gap-1
      transition-colors duration-200
      bg-gray-200 text-gray-800 hover:bg-gray-300
      dark:bg-white/10 dark:text-white dark:hover:bg-white/20
    `.trim();

      const wrapper = document.createElement('div');
      wrapper.className = 'relative';
      pre.parentNode.insertBefore(wrapper, pre);
      wrapper.appendChild(pre);
      wrapper.appendChild(button);

      button.addEventListener('click', () => {
        const code = pre.innerText;
        navigator.clipboard.writeText(code).then(() => {
          button.querySelector('span').innerText = 'Copied!';
          setTimeout(() => {
            button.querySelector('span').innerText = 'Copy';
          }, 2000);
        });
      });
    });
  });
</script>

    <div id="searchModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
      <div class="bg-white dark:bg-gray-900 max-w-xl mx-auto mt-24 p-6 rounded shadow-lg relative">
        <button id="closeSearchModal" class="absolute top-3 right-3 text-gray-500 hover:text-red-500 text-xl">×</button>
        <input
          type="text"
          id="searchBox"
          placeholder="Search articles..."
          class="w-full px-4 py-2 mb-4 border rounded focus:outline-none focus:ring-2 focus:ring-[#0f7ea9]"
        />
        <div id="searchResults" class="space-y-3 text-sm max-h-60 overflow-y-auto text-gray-800 dark:text-gray-200"></div>
      </div>
    </div>
  </body>
</html>
