<!doctype html><html lang=en data-theme=light><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Install Docker on Ubuntu 24.04: Post-Install, Rootless, and Compose v2 | Buana Coding</title><meta name=description content="Step-by-step guide to install Docker Engine on Ubuntu 24.04 (Noble), set up post-install permissions, enable rootless mode, and use Docker Compose v2. Includes testing, troubleshooting, and uninstall instructions."><meta name=keywords content="ubuntu 24.04,install docker,docker compose v2,rootless docker,docker ubuntu,docker installation,noble"><link rel=canonical href=https://www.buanacoding.com/2025/08/install-docker-on-ubuntu-24-04-compose-v2-rootless.html><meta property="og:type" content="article"><meta property="og:title" content="Install Docker on Ubuntu 24.04: Post-Install, Rootless, and Compose v2 | Buana Coding"><meta property="og:description" content="Step-by-step guide to install Docker Engine on Ubuntu 24.04 (Noble), set up post-install permissions, enable rootless mode, and use Docker Compose v2. Includes testing, troubleshooting, and uninstall instructions."><meta property="og:url" content="https://www.buanacoding.com/2025/08/install-docker-on-ubuntu-24-04-compose-v2-rootless.html"><meta property="og:image" content="https://www.buanacoding.com/images/og-image.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="Install Docker on Ubuntu 24.04: Post-Install, Rootless, and Compose v2 | Buana Coding"><meta name=twitter:description content="Step-by-step guide to install Docker Engine on Ubuntu 24.04 (Noble), set up post-install permissions, enable rootless mode, and use Docker Compose v2. Includes testing, troubleshooting, and uninstall instructions."><meta name=twitter:image content="https://www.buanacoding.com/images/og-image.jpg"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Install Docker on Ubuntu 24.04: Post-Install, Rootless, and Compose v2 | Buana Coding","description":"Step-by-step guide to install Docker Engine on Ubuntu 24.04 (Noble), set up post-install permissions, enable rootless mode, and use Docker Compose v2. Includes testing, troubleshooting, and uninstall instructions.","datePublished":"2025-08-14T10:00:00\u002b07:00","dateModified":"2025-08-14T10:00:00\u002b07:00","author":{"@type":"Person","name":"Wiku Karno"},"mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/www.buanacoding.com\/2025\/08\/install-docker-on-ubuntu-24-04-compose-v2-rootless.html"},"image":"https:\/\/www.buanacoding.com\/images\/og-image.jpg","publisher":{"@type":"Organization","name":"Buana Coding"}}</script><link rel=icon href=/favicon.ico type=image/x-icon><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/dracula.min.css><link rel=stylesheet href=/style.css><link rel=stylesheet href=/css/overrides.css><link rel=stylesheet href=/css/syntax.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-0EN9J73FXF"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-0EN9J73FXF")</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3149036684216973" crossorigin=anonymous></script></head><body class="bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-white min-h-screen flex flex-col"><header class="bg-[#0f7ea9] dark:bg-[#094d66] text-white shadow"><div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center"><h1 class="text-2xl font-extrabold tracking-wide"><a href=/ class=hover:opacity-90>BUANACODING</a></h1><nav class="hidden md:flex items-center space-x-6 font-semibold uppercase tracking-wide"><a href=/tags/go class="no-underline hover:text-cyan-300 dark:hover:text-[#0f7ea9] transition font-medium text-sm capitalize">Go
</a><a href=/tags/laravel class="no-underline hover:text-cyan-300 dark:hover:text-[#0f7ea9] transition font-medium text-sm capitalize">Laravel
</a><a href=/tags/linux class="no-underline hover:text-cyan-300 dark:hover:text-[#0f7ea9] transition font-medium text-sm capitalize">Linux
</a><button id=openSearchModal class="text-white transition duration-300 cursor-pointer focus:outline-none dark:hover:text-[#0f7ea9] hover:text-cyan-300" aria-label=Search>
<i data-feather=search class="w-5 h-5"></i>
</button>
<button id=theme-toggle class="ml-2 text-white hover:text-yellow-300 transition duration-300 focus:outline-none cursor-pointer" aria-label="Toggle Dark Mode">
<i id=icon-sun data-feather=sun class="w-5 h-5 hidden"></i>
<i id=icon-moon data-feather=moon class="w-5 h-5"></i></button></nav><button id=menu-toggle class="md:hidden text-2xl focus:outline-none">
☰</button></div><div id=mobile-menu class="hidden md:hidden px-4 pb-4 space-y-2"><a href=/tags/go class="block no-underline hover:text-cyan-500 dark:hover:text-[#0f7ea9] transition font-medium text-sm capitalize">Go
</a><a href=/tags/laravel class="block no-underline hover:text-cyan-500 dark:hover:text-[#0f7ea9] transition font-medium text-sm capitalize">Laravel
</a><a href=/tags/linux class="block no-underline hover:text-cyan-500 dark:hover:text-[#0f7ea9] transition font-medium text-sm capitalize">Linux</a><div class="flex flex-col items-start gap-4 mt-2"><button id=openSearchModalMobile class="text-white hover:text-[#0f7ea9] transition duration-300" aria-label=Search>
<i data-feather=search class="w-5 h-5"></i>
</button>
<button id=theme-toggle-mobile class="text-white hover:text-[#0f7ea9] transition duration-300" aria-label="Toggle Dark Mode">
<i id=icon-sun-mobile data-feather=sun class="w-5 h-5 hidden"></i>
<i id=icon-moon-mobile data-feather=moon class="w-5 h-5"></i></button></div></div></header><div id=searchModal class="fixed inset-0 z-50 hidden flex justify-center items-center bg-black/30 dark:bg-black/60 backdrop-blur-md p-4"><div class="bg-white dark:bg-[#1f2937] rounded-xl shadow-2xl w-full max-w-xl p-6 relative"><button id=closeSearchModal class="absolute -top-4 -right-4 bg-white dark:bg-[#374151] rounded-full p-1 shadow hover:bg-gray-100 dark:hover:bg-gray-600 transition duration-200 ease-in-out transform hover:scale-110">
<i data-feather=x class="w-5 h-5 text-gray-600 dark:text-white hover:text-red-500"></i>
</button>
<input type=text id=searchBox placeholder="Search articles..." class="w-full px-4 py-3 mb-4 border border-cyan-400 text-gray-800 dark:text-white dark:bg-[#374151] placeholder-gray-400 dark:placeholder-gray-400 rounded-md focus:outline-none focus:ring-2 focus:ring-cyan-500"><ul id=results class="bg-white dark:bg-[#1f2937] rounded-lg shadow max-h-60 overflow-y-auto divide-y divide-gray-200 dark:divide-gray-600"></ul></div></div><main class="flex-1 w-full"><div class="max-w-7xl mx-auto py-8 px-4"><div class="max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-8 py-8"><article class="prose prose-blue dark:prose-invert lg:col-span-2"><nav class="text-sm text-gray-500 dark:text-gray-400 mb-4"><a href=/ class="hover:text-[#0f7ea9] font-medium">Home</a>
<span class=mx-2>/</span>
<a href=/tags/linux class="hover:text-[#0f7ea9] font-medium">#Linux</a></nav><h1>Install Docker on Ubuntu 24.04: Post-Install, Rootless, and Compose v2</h1><p>This guide shows how to install Docker Engine on Ubuntu 24.04 LTS (Noble Numbat), configure it for non-root use, enable optional rootless mode, and use Docker Compose v2. It also includes test commands, common troubleshooting tips, and how to uninstall cleanly. For securing your site with HTTPS, see: Nginx + Certbot on Ubuntu 24.04 → /2025/08/nginx-certbot-ubuntu-24-04-free-https.html</p><p>What you’ll do</p><ul><li>Add the official Docker repository for Ubuntu 24.04 (Noble)</li><li>Install Docker Engine, Buildx, and Compose v2 plugins</li><li>Run Docker as your regular user (without sudo)</li><li>Optionally enable rootless Docker</li><li>Verify with test containers and fix common errors</li></ul><p>Prerequisites</p><ul><li>Fresh or updated Ubuntu 24.04 LTS (Noble)</li><li>A user with sudo privileges</li></ul><ol><li>Remove old Docker packages (if any)</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt remove -y docker docker-engine docker.io containerd runc <span class=o>||</span> <span class=nb>true</span>
</span></span></code></pre></div><ol start=2><li>Set up the Docker repository</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt update
</span></span><span class=line><span class=cl>sudo apt install -y ca-certificates curl gnupg
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>sudo install -m <span class=m>0755</span> -d /etc/apt/keyrings
</span></span><span class=line><span class=cl>curl -fsSL https://download.docker.com/linux/ubuntu/gpg <span class=p>|</span> sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
</span></span><span class=line><span class=cl>sudo chmod a+r /etc/apt/keyrings/docker.gpg
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;deb [arch=</span><span class=k>$(</span>dpkg --print-architecture<span class=k>)</span><span class=s2> signed-by=/etc/apt/keyrings/docker.gpg] \
</span></span></span><span class=line><span class=cl><span class=s2>https://download.docker.com/linux/ubuntu </span><span class=k>$(</span>. /etc/os-release<span class=p>;</span> <span class=nb>echo</span> <span class=nv>$VERSION_CODENAME</span><span class=k>)</span><span class=s2> stable&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span><span class=p>|</span> sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>sudo apt update
</span></span></code></pre></div><ol start=3><li>Install Docker Engine, Buildx, and Compose v2</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
</span></span><span class=line><span class=cl>sudo systemctl <span class=nb>enable</span> --now docker
</span></span></code></pre></div><ol start=4><li>Test Docker (root)</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo docker run --rm hello-world
</span></span></code></pre></div><p>You should see a confirmation message.</p><ol start=5><li>Post-install: run Docker without sudo</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo usermod -aG docker <span class=nv>$USER</span>
</span></span><span class=line><span class=cl>newgrp docker  <span class=c1># reload group membership for current shell</span>
</span></span><span class=line><span class=cl>docker run --rm hello-world
</span></span></code></pre></div><p>If the second command works without sudo, your user is set up correctly.</p><ol start=6><li>Docker Compose v2
<code>docker compose</code> is included as a plugin. Check the version:</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker compose version
</span></span></code></pre></div><p>Example usage:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat &gt; compose.yaml <span class=s>&lt;&lt;&#39;YAML&#39;
</span></span></span><span class=line><span class=cl><span class=s>services:
</span></span></span><span class=line><span class=cl><span class=s>  web:
</span></span></span><span class=line><span class=cl><span class=s>    image: nginx:alpine
</span></span></span><span class=line><span class=cl><span class=s>    ports:
</span></span></span><span class=line><span class=cl><span class=s>      - &#34;8080:80&#34;
</span></span></span><span class=line><span class=cl><span class=s>YAML</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>docker compose up -d
</span></span><span class=line><span class=cl>docker compose ps
</span></span><span class=line><span class=cl>docker compose down
</span></span></code></pre></div><p>6a) Verify Buildx
<code>docker buildx</code> is the modern builder with multi-platform support and advanced caching.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker buildx version
</span></span></code></pre></div><p>You should see a version string. Optionally, try a quick build to confirm the builder is healthy:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker buildx bake --print 2&gt;/dev/null <span class=o>||</span> <span class=nb>echo</span> <span class=s2>&#34;Buildx is installed and ready.&#34;</span>
</span></span></code></pre></div><ol start=7><li>Optional: Rootless Docker
Rootless mode runs the Docker daemon and containers without root privileges. Good for tighter isolation (with some feature limitations).</li></ol><p>Install requirements and set up:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt install -y uidmap dbus-user-session
</span></span><span class=line><span class=cl>dockerd-rootless-setuptool.sh install
</span></span></code></pre></div><p>Start and enable the user service:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>systemctl --user start docker
</span></span><span class=line><span class=cl>systemctl --user <span class=nb>enable</span> docker
</span></span><span class=line><span class=cl><span class=c1># Keep user services running after logout</span>
</span></span><span class=line><span class=cl>sudo loginctl enable-linger <span class=nv>$USER</span>
</span></span></code></pre></div><p>Use the rootless daemon by pointing the client to your user socket (usually done automatically by the setup tool):</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>export</span> <span class=nv>DOCKER_HOST</span><span class=o>=</span>unix:///run/user/<span class=k>$(</span>id -u<span class=k>)</span>/docker.sock
</span></span><span class=line><span class=cl>docker info <span class=p>|</span> grep -i rootless
</span></span></code></pre></div><p>Notes on rootless mode</p><ul><li>Some features (e.g., privileged containers, low ports &lt;1024) are restricted.</li><li>For Kubernetes-in-Docker or system-wide networking, classic (rootful) Docker is recommended.</li></ul><ol start=8><li>Troubleshooting</li></ol><ul><li>Permission denied on /var/run/docker.sock<ul><li>Run: <code>groups</code> and ensure <code>docker</code> is listed. If not, run <code>sudo usermod -aG docker $USER</code> then re-login or <code>newgrp docker</code>.</li></ul></li><li>Network issues pulling images<ul><li>Check DNS and proxy settings. Try <code>docker pull alpine</code> and <code>ping registry-1.docker.io</code> (may be blocked by firewall).</li></ul></li><li>Cannot connect to the Docker daemon<ul><li>Check service: <code>systemctl status docker</code> (rootful) or <code>systemctl --user status docker</code> (rootless).</li></ul></li><li>Compose command not found<ul><li>Ensure you installed <code>docker-compose-plugin</code> and run <code>docker compose</code> (space), not <code>docker-compose</code>.</li></ul></li><li>Apt update/upgrade errors during install<ul><li>Lihat: How to fix broken update error in Linux (Terminal) → /2023/11/how-to-fix-broken-update-error-in-linux.html</li></ul></li></ul><p>8a) Maintenance & Cleanup (disk usage)
Over time, images/layers can consume disk space. Inspect usage and prune carefully:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker system df
</span></span><span class=line><span class=cl>docker image prune -f                <span class=c1># remove unused images (dangling)</span>
</span></span><span class=line><span class=cl>docker container prune -f            <span class=c1># remove stopped containers</span>
</span></span><span class=line><span class=cl>docker volume prune -f               <span class=c1># remove unused volumes</span>
</span></span><span class=line><span class=cl>docker builder prune -f              <span class=c1># remove unused build cache</span>
</span></span></code></pre></div><p>Tip: omit <code>-f</code> to get a prompt before deleting. Review before pruning on production hosts.</p><ol start=9><li>Uninstall Docker completely</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt purge -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin docker-ce-rootless-extras
</span></span><span class=line><span class=cl>sudo rm -rf /var/lib/docker /var/lib/containerd
</span></span><span class=line><span class=cl>sudo rm -f /etc/apt/sources.list.d/docker.list /etc/apt/keyrings/docker.gpg
</span></span><span class=line><span class=cl>sudo apt autoremove -y
</span></span></code></pre></div><p>Security note</p><ul><li>Members of the <code>docker</code> group can effectively escalate privileges on the host (they can start containers with access to the filesystem). Only add trusted users to the <code>docker</code> group.</li></ul><p>That’s it! You now have Docker Engine, Compose v2, and (optionally) rootless mode on Ubuntu 24.04.</p><div class="bg-gray-100 dark:bg-gray-800 p-4 my-8 rounded"><h2 class="text-lg font-semibold mb-2">📌 Baca Juga</h2><ul class="list-disc list-inside"><li><a href=/2025/08/nginx-certbot-ubuntu-24-04-free-https.html class="text-blue-600 dark:text-blue-400 hover:underline">Nginx + Certbot on Ubuntu 24.04: Free HTTPS with Let’s Encrypt</a></li><li><a href=/2025/08/install-docker-on-ubuntu-24-04-compose-v2-rootless.html class="text-blue-600 dark:text-blue-400 hover:underline">Install Docker on Ubuntu 24.04: Post-Install, Rootless, and Compose v2</a></li><li><a href=/2025/05/connecting-postgresql-in-go-using-sqlx.html class="text-blue-600 dark:text-blue-400 hover:underline">Connecting to PostgreSQL in Go using sqlx</a></li></ul></div></article><aside class=space-y-10><div><h3 class="text-xl font-bold mb-4 text-gray-900 dark:text-white">Popular Post</h3><ul class="space-y-3 list-disc list-inside text-sm text-gray-800 dark:text-gray-200"><li><a href=/2025/08/nginx-certbot-ubuntu-24-04-free-https.html class="hover:text-[#0f7ea9] transition">Nginx + Certbot on Ubuntu 24.04: Free HTTPS with Let’s Encrypt</a></li><li><a href=/2025/08/install-docker-on-ubuntu-24-04-compose-v2-rootless.html class="hover:text-[#0f7ea9] transition">Install Docker on Ubuntu 24.04: Post-Install, Rootless, and Compose v2</a></li><li><a href=/2025/05/connecting-postgresql-in-go-using-sqlx.html class="hover:text-[#0f7ea9] transition">Connecting to PostgreSQL in Go using sqlx</a></li><li><a href=/2025/05/structuring-go-projects-clean-architecture.html class="hover:text-[#0f7ea9] transition">Structuring Go Projects: Clean Project Structure and Best Practices</a></li><li><a href=/2025/05/how-to-build-rest-api-in-go-using-net-http.html class="hover:text-[#0f7ea9] transition">How to Build a REST API in Go using net/http</a></li></ul></div></aside></div><section id=comments class=mt-12><script src=https://giscus.app/client.js data-repo=wikukarno/buanacoding data-repo-id=R_kgD0Oj4jAw data-category=General data-category-id=DIC_kwD0Oj4jA84Cr_fx data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=preferred_color_scheme data-lang=en data-loading=lazy crossorigin=anonymous async></script></section></div></main><div class="bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-white py-4 transition-colors duration-300"><div class="text-center space-x-4 text-sm font-medium"><a href=/about class="hover:text-cyan-500 dark:hover:text-cyan-400">About</a>
<span>-</span>
<a href=/contact class="hover:text-cyan-500 dark:hover:text-cyan-400">Contact</a>
<span>-</span>
<a href=/privacy-policy class="hover:text-cyan-500 dark:hover:text-cyan-400">Privacy Policy</a>
<span>-</span>
<a href=/disclaimer class="hover:text-cyan-500 dark:hover:text-cyan-400">Disclaimer</a></div></div><footer class="text-center text-sm text-gray-500 dark:text-gray-400 py-4 border-t border-gray-200 dark:border-gray-700">&copy; 2025 buanacoding.com &mdash; Crafted with ❤️ by <a href=https://www.wikukarno.com class="text-gray-500 dark:text-gray-400 hover:text-cyan-500 dark:hover:text-cyan-400" target=_blank>Wiku Karno</a></footer><button id=scrollToTop class="fixed bottom-6 right-6 bg-[#0f7ea9] hover:bg-cyan-600 text-white p-3 rounded-full shadow transition duration-300" aria-label="Scroll to top">
<svg fill="none" class="w-4 h-4" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"/></svg>
</button>
<script src=https://unpkg.com/feather-icons></script><script src=https://cdn.jsdelivr.net/npm/fuse.js@6.4.6></script><script>feather.replace();const btn=document.getElementById("scrollToTop"),html=document.documentElement,toggleBtn=document.getElementById("theme-toggle"),toggleBtnMobile=document.getElementById("theme-toggle-mobile"),iconSun=document.getElementById("icon-sun"),iconMoon=document.getElementById("icon-moon"),iconSunMobile=document.getElementById("icon-sun-mobile"),iconMoonMobile=document.getElementById("icon-moon-mobile");document.getElementById("menu-toggle")?.addEventListener("click",()=>{document.getElementById("mobile-menu")?.classList.toggle("hidden")}),btn.style.display="none",window.addEventListener("scroll",()=>{window.scrollY>300?btn.style.display="flex":btn.style.display="none"}),btn.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});function updateIcons(e){iconSun.classList.toggle("hidden",!e),iconMoon.classList.toggle("hidden",e),iconSunMobile.classList.toggle("hidden",!e),iconMoonMobile.classList.toggle("hidden",e)}function setDarkMode(e){html.setAttribute("data-theme",e?"dark":"light"),localStorage.setItem("theme",e?"dark":"light"),updateIcons(e)}const userPref=localStorage.getItem("theme"),systemPref=window.matchMedia("(prefers-color-scheme: dark)").matches,isDark=userPref==="dark"||!userPref&&systemPref;setDarkMode(isDark),toggleBtn?.addEventListener("click",()=>{const e=html.getAttribute("data-theme")==="dark";setDarkMode(!e)}),toggleBtnMobile?.addEventListener("click",()=>{const e=html.getAttribute("data-theme")==="dark";setDarkMode(!e)}),document.querySelectorAll("pre").forEach(e=>{const t=document.createElement("button");t.innerHTML=`
      <span>Copy</span>
    `,t.className=`
    copy-btn absolute top-2 right-2
    text-xs px-2 py-1 rounded flex items-center gap-1
    transition-colors duration-200
    bg-gray-200 text-gray-800 hover:bg-gray-300
    dark:bg-white/10 dark:text-white dark:hover:bg-white/20
  `.trim();const n=document.createElement("div");n.className="relative",e.parentNode.insertBefore(n,e),n.appendChild(e),n.appendChild(t),t.addEventListener("click",()=>{const n=e.innerText;navigator.clipboard.writeText(n).then(()=>{t.querySelector("span").innerText="Copied!",setTimeout(()=>{t.querySelector("span").innerText="Copy"},2e3)})})});const openBtn=document.getElementById("openSearchModal"),closeBtn=document.getElementById("closeSearchModal"),modal=document.getElementById("searchModal");openBtn.addEventListener("click",()=>{console.log("Search modal opened"),modal.classList.remove("hidden"),document.getElementById("searchBox").focus()}),closeBtn.addEventListener("click",()=>{modal.classList.add("hidden")}),document.addEventListener("keydown",e=>{e.key==="Escape"&&modal.classList.add("hidden")}),fetch("/index.json").then(e=>e.json()).then(e=>{const n=new Fuse(e,{keys:["title","content"],threshold:.3}),s=document.getElementById("searchBox"),t=document.getElementById("results");s.addEventListener("input",function(e){const s=e.target.value.trim();if(s.length<2){t.innerHTML="";return}const o=n.search(s);o.length===0?t.innerHTML="<li class='px-4 py-2'>No results found.</li>":t.innerHTML=o.map(e=>`
                    <li class="px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-700 transition">
                    <a href="${e.item.href}" class="block font-semibold text-gray-900 dark:text-white">${e.item.title}</a>
                  </li>
                  `).join("")})});const openBtnMobile=document.getElementById("openSearchModalMobile"),closeBtnMobile=document.getElementById("closeSearchModal"),modalMobile=document.getElementById("searchModal");openBtnMobile.addEventListener("click",()=>{console.log("Search modal opened (mobile)"),modalMobile.classList.remove("hidden"),document.getElementById("searchBox").focus()}),closeBtnMobile.addEventListener("click",()=>{modalMobile.classList.add("hidden")}),document.addEventListener("keydown",e=>{e.key==="Escape"&&modalMobile.classList.add("hidden")})</script></body></html>